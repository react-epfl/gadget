<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Apps view with user tracking"
                author_email="na.li@epfl.ch"
                author="Evgeny Bogdanov, Na Li"
                description="This functional skin takes all apps from a space and shows them in a grid layout that can be adapted to user's needs. It asks for the user name when the user loads the page, and saves the user actions through appdata. At the moment, it works only in Graasp - http://graasp.epfl.ch">
    <Require feature="dynamic-height" />
    <Require feature="shindig-container" />
    
    <Locale messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/ALL_ALL.xml"/>
    <Locale lang="fr" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/fr_ALL.xml"/> 
    <Locale lang="de" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/de_ALL.xml"/>
    <Locale lang="es" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/es_ALL.xml"/> 
    <Locale lang="ru" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/ru_ALL.xml"/> 
    <Locale lang="th" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/th_ALL.xml"/> 
    <Locale lang="ar" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/ar_ALL.xml"/> 
    <Locale lang="it" messages="http://graasp.epfl.ch/gadget/prod/ils_metawidget/message_bundles/it_ALL.xml"/> 
    
  </ModulePrefs>
  <Content type="html" view="default,canvas,home,profile"><![CDATA[


<link rel="stylesheet" href="http://graasp.epfl.ch/gadget/libs/bootstrap/css/bootstrap.min.css" type="text/css">
<link href="http://graasp.epfl.ch/gadget/prod/ils_metawidget/app.css" rel="stylesheet" type="text/css">

<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a href="http://www.go-lab-project.eu/"><img src = "golab_logo.png" id = "golab_logo"></a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="active"><a>Go-Lab Inquiry Learning Space</a></li>
        </ul>
        <span id = "hello_msg"></span>
      </div>
    </div>
  </div>
</div>

<div id="main_block" class="container">
  <div id="container" onmouseover="adjustHeight();">
    <div id="not_owner" style="display:none">__MSG_not_space_owner__</div>
    <div id="popup" style="display:none">
     <div><b>__MSG_app_size__</b>__MSG_fixed_or_relative_resize__</div>
     <div><b>__MSG_drag_and_drop_an_app__</b>__MSG_to_change_the_order__</div>
     <div><b>__MSG_resize_an_app__</b>__MSG_by_dragging_its_right_border__</div>
     <span class="button" onclick="$('#popup').hide()">__MSG_close__</span>
    </div>
    <div id = "banner">
      <span id = "title"></span>
    </div>
    <div id = "description_block">
      <span>__MSG_description__</span>
      <span id = "description"></span>
    </div>
    <div id="center">
      <ul class="nav nav-tabs" id="ils_cycle"></ul>
      <div class="tab-content" id="ils_phases"></div>
    </div>
  </div> <!-- /container -->
</div>

<div id="toolbar" class="navbar-fixed-bottom">
  <div id="tools_title"><img id="arrow_down" src="arrow_down.png"><img id="arrow_up" src="arrow_up.png"> __MSG_tools__</div>
  <div id="tools_content"></div>
</div>

<div class="modal hide fade" id="login_popup" data-keyboard="false" data-backdrop="static">
  <div class="modal-header">
    <h3>__MSG_please_enter_your_name__</h3>
  </div>
  <div class="modal-body" id="popup_body">
    <div id="error_msg" class="alert fade in hide alert-error">  
      __MSG_please_enter_a_valid_name__
    </div> 
    <input type="text" id="user_name">
  </div>
  <div class="modal-footer" id="popup_footer">
    <button type="button" class="btn btn-primary" id="ok_btn">__MSG_ok__</button>
  </div>
</div>


<script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/jquery-ui-1.8.23.custom.min.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/jquery.cookie.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/underscore-min.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/prod/ils_metawidget/app.js"></script>
<script type="text/javascript" src="http://graasp.epfl.ch/gadget/prod/ils_metawidget/data.js"></script>


<script type="text/javascript">
//gadgets.util.registerOnLoadHandler(initialize);
$(window).load(function () {
if (osapi.people.getViewer) {
  initialize()
} else {
  setTimeout(function(){
    initialize()
  }, 1000)
}
})
</script>

  ]]></Content>
</Module>
