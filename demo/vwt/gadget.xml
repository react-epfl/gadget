<?xml version="1.0" encoding="UTF-8"?>
<Module>
    <ModulePrefs
            title="Vertical Wind Turbine Lab"
            author="Nachiappan Muthiah"
            author_email="nachiappan.muthiah@epfl.ch"
            description="Control and Observation of the Vertical Wind Turbine Lab">
        <Require feature="opensocial-2.5" />
        <Require feature="dynamic-height" />
    </ModulePrefs>
    <Content type="html" view="canvas">
        <![CDATA[<!-- The code for Canvas view is here. -->
        <html lang="en" ng-app="WebsocketClient">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<!--    <meta name="format-detection" content="telephone=no"/> -->
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, target-densitydpi=device-dpi"/>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://shindig2.epfl.ch/gadget/libs/jqplot/jquery.jqplot.min.css"/>


    <title>Wind Turbine Lab</title>

    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.min.js"></script>
    <script type="text/javascript">
      var pathToGadget = "http://shindig2.epfl.ch/gadget/demo/vwt/";
      head.load("http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.js",
        "http://shindig2.epfl.ch/gadget/libs/jquery.cookie.js",
        "http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular.js",
        "http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular-resource.js",
        "http://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js",
        "http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore.js",
        "http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js",
        "http://cdnjs.cloudflare.com/ajax/libs/angular-moment/0.8.3/angular-moment.min.js",
        "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js",
        "http://shindig2.epfl.ch/ils/main/ils_graaspeu.js",
        "http://shindig2.epfl.ch/gadget/libs/jqplot/jquery.jqplot.min.js",
        pathToGadget + "app.js",
        pathToGadget + "web-socket-controller.js");
    </script>

</head>

<body>
<div class=container>
    <div class="header">
        <h2>Vertical Axis Wind Turbine Lab</h2> 
        <p>Control the fan speed and observe the wind speed and the voltage generated by the turbine! </p>
    </div>
    <hr/>
    <section ng-controller="WebSocketController">
        <div class="row">   <!-- Lab status & control div -->
            <strong class="col-md-6 text-primary" ng-bind-template="Lab status: {{message}}"></strong>
            
            <div class="col-md-6 text-right">       <!-- control buttons div -->

                <strong>Voltage ing:</strong>
                <button class="btn btn-success" ng-click="runReading()">
                    Run
                </button>
                <button class="btn btn-danger" ng-click="stopReading()">
                    Stop
                </button>

                <strong>Wind source:</strong>
                <button class="btn btn-success" ng-click="turnOnWind()">
                    Turn On
                </button>
                <button class="btn btn-danger" ng-click="turnOffWind()">
                    Turn Off
                </button>

            </div>                              <!-- control buttons div -->
        
        </div>
        <hr/>               <!-- Lab status & control div -->

        <div class="row text-center">       <!-- video div -->
            <img src="" alt="VIDEO" class="img-thumbnail" style="width: 500px; height: 200px">
        </div>                              <!-- video div -->
        <hr/>

        <div class="row">                   <!-- numeric values div -->
            <div class="col-md-4 col-md-offset-2">
                <p class="text-warning" ng-bind-template="Voltage reading: {{voltageAmplitudeValue}}"></p>          
            </div>
            <div class="col-md-4">
                <p class="text-warning" ng-bind-template="Wind speed: {{windSpeedValue}}"></p>  
            </div>                          <!-- numeric values div -->
        </div>   

        <div id="chartdiv" class="row text-center">                 <!-- voltage plot div -->
            
        </div>                              <!-- voltage plot div -->
    </section>
</div>
<script>
      head.ready(function () {
        //Scripts loaded
      });
</script>
</body>
</html>
	]]></Content>
</Module>